{"remainingRequest":"/home/pkgship/web-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pkgship/web-ui/src/views/package/sig-detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pkgship/web-ui/src/views/package/sig-detail.vue","mtime":1650771432203},{"path":"/home/pkgship/web-ui/node_modules/cache-loader/dist/cjs.js","mtime":1650610399395},{"path":"/home/pkgship/web-ui/node_modules/babel-loader/lib/index.js","mtime":1650610399223},{"path":"/home/pkgship/web-ui/node_modules/cache-loader/dist/cjs.js","mtime":1650610399395},{"path":"/home/pkgship/web-ui/node_modules/vue-loader/lib/index.js","mtime":1650610401303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFNpZ0luZm8gfSBmcm9tICcuLi8uLi9hcGkvc2lnJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnU2lnRGV0YWlsJywKICAgIG1vdW50ZWQoKXsKICAgICAgIHRoaXMuaW5pdERhdGEoKQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICB0aGlzLnNpZ19uYW1lID0gdGhpcy4kcm91dGUucXVlcnkuc2lnX25hbWUKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZpc01zZzogdHJ1ZSwKICAgICAgICAgICAgcXVlcnlTaWdOYW1lOiAnJywKICAgICAgICAgICAgc2lnX25hbWU6ICcnLAogICAgICAgICAgICB0YWJsZURhdGE6IFtdLAogICAgICAgICAgICBwcm9wRGF0YTogW10sCiAgICAgICAgICAgIHRhYmxlTG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgICAgIG51bVNpemU6IDAKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGluaXREYXRhKCkgewogICAgICAgICAgICB0aGlzLmdldFByb3BEYXRhKCkKICAgICAgICB9LAogICAgICAgIGdldFByb3BEYXRhKCl7CiAgICAgICAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICBnZXRTaWdJbmZvKHRoaXMuc2lnX25hbWUpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuY29kZSA9PT0gJzIwMCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5yZXNwOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcERhdGEgPSByZXNwb25zZS5yZXNwWzBdLnJlcG9zaXRvcmllcwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUxlbmd0aCA9IHRoaXMucHJvcERhdGEubGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhTGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBQYWdlTWF4ID0gTWF0aC5jZWlsKGRhdGFMZW5ndGgvdGhpcy5wYWdlU2l6ZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLnBhZ2VOdW0gIT0gUGFnZU1heCApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMucHJvcERhdGEuc2xpY2UoKCh0aGlzLnBhZ2VOdW0gLSAxKSAqIHRoaXMucGFnZVNpemUpLCAoKHRoaXMucGFnZU51bSAtIDEpICogdGhpcy5wYWdlU2l6ZSkgKyB0aGlzLnBhZ2VTaXplKQogICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtU2l6ZSA9ICh0aGlzLnBhZ2VOdW0gLSAxKSAqIHRoaXMucGFnZVNpemUKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMucHJvcERhdGEuc2xpY2UodGhpcy5wYWdlU2l6ZSAqIChQYWdlTWF4IC0gMSksIGRhdGFMZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1TaXplID0gKFBhZ2VNYXggLSAxKSAqIHRoaXMucGFnZVNpemUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5tZXNzYWdlICsgJ1xuJyArIHJlc3BvbnNlLnRpcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZUxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UubWVzc2FnZSArICdcbicgKyByZXNwb25zZS50aXApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vICAgdGhpcy50YWJsZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRhYmxlRGF0YSk7CiAgICAgICAgfSwKICAgICAgICBxdWVyeURhdGEoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5U2lnTmFtZS5sZW5ndGggPT09IDAgfHwgdGhpcy5xdWVyeVNpZ05hbWUuc3BsaXQoIiAiKS5qb2luKCIiKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMudmlzTXNnID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5pbml0RGF0YSgpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BEYXRhLmluZGV4T2YodGhpcy5xdWVyeVNpZ05hbWUpID09PSAtMSkgewogICAgICAgICAgICAgICAgICB0aGlzLnZpc01zZyA9IGZhbHNlCiAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMudmlzTXNnID0gdHJ1ZQogICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IFt0aGlzLnF1ZXJ5U2lnTmFtZV0KICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IDEKICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtID0gMQogICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gIAogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["sig-detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sig-detail.vue","sourceRoot":"src/views/package","sourcesContent":["<template>\n    <div>\n      <div class=\"home\">\n            <h1>{{ sig_name }}</h1>\n            <el-input\n                v-model=\"querySigName\"\n                class=\"pc-search\"\n                placeholder=\"Search SigName\"\n                @keyup.enter.native=\"queryData()\">\n                <i slot=\"suffix\" class=\"icon-search\" @click=\"queryData()\"></i>\n            </el-input>\n            <div class=\"package-container\">\n                <div class=\"pc-pkg-table\" v-for=\"(item, index) in tableData\" :key=\"index\">\n                    <ul class=\"repositories-line\" v-if=\"visMsg\">\n                        <li class=\"detail-title\"><span>{{index + 1 + numSize}}</span><span style=\"margin-left:30px;\">{{item}}</span></li>\n                    </ul>\n                </div>\n                <ul class=\"repositories-line\" v-if=\"!visMsg\">\n                        <li class=\"detail-title\"><span>No data</span></li>\n                </ul>\n                <el-pagination\n                    class=\"safety-bulletin-pagination\"\n                    :current-page.sync=\"pageNum\"\n                    :page-size=\"pageSize\"\n                    layout=\"total, prev, pager, next, jumper\"\n                    @current-change=\"initData\"\n                    :total=\"total\"\n                    v-if=\"visMsg\">\n                </el-pagination>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getSigInfo } from '../../api/sig'\nexport default {\n    name: 'SigDetail',\n    mounted(){\n       this.initData()\n    },\n    created(){\n        this.sig_name = this.$route.query.sig_name\n    },\n    data() {\n        return {\n            visMsg: true,\n            querySigName: '',\n            sig_name: '',\n            tableData: [],\n            propData: [],\n            tableLoading: false,\n            total: 0,\n            pageNum: 1,\n            pageSize: 10,\n            numSize: 0\n        }\n    },\n    methods: {\n        initData() {\n            this.getPropData()\n        },\n        getPropData(){\n            this.tableLoading = true\n            getSigInfo(this.sig_name)\n                .then(response => {\n                    if(response.code === '200') {\n                        // this.tableData = response.resp;\n                        this.tableLoading = false\n                        this.propData = response.resp[0].repositories\n                        var dataLength = this.propData.length\n                        this.total = dataLength\n                        var PageMax = Math.ceil(dataLength/this.pageSize)\n                        if ( this.pageNum != PageMax ) {\n                          this.tableData = this.propData.slice(((this.pageNum - 1) * this.pageSize), ((this.pageNum - 1) * this.pageSize) + this.pageSize)\n                          this.numSize = (this.pageNum - 1) * this.pageSize\n                        } else {\n                          this.tableData = this.propData.slice(this.pageSize * (PageMax - 1), dataLength)\n                          this.numSize = (PageMax - 1) * this.pageSize\n                        }\n                    } else {\n                        this.tableLoading = false\n                        this.$message.error(response.message + '\\n' + response.tip);\n                    }\n                })\n                .catch(response => {\n                    this.tableLoading = false\n                    this.$message.error(response.message + '\\n' + response.tip);\n                })\n                .finally(function () {\n                //   this.tableLoading = false;\n                })\n                console.log(this.tableData);\n        },\n        queryData() {\n            if (this.querySigName.length === 0 || this.querySigName.split(\" \").join(\"\").length === 0) {\n                this.visMsg = true\n                this.initData()\n            } else {\n               if (this.propData.indexOf(this.querySigName) === -1) {\n                  this.visMsg = false\n               } else {\n                  this.visMsg = true\n                  this.tableData = [this.querySigName]\n                  this.total = 1\n                  this.pageNum = 1\n               }\n            }  \n        }\n    }\n}\n</script>\n\n<style scoped>\n\n@keyframes toOpacity {\n    0% { opacity: 0;}\n    50% { opacity: 0; }\n    100% { opacity: 1;}\n}\n.safety-bulletin-pagination {\n    display: block;\n    margin: 30px 0 200px 0!important;\n}\n.icon-search {\n    position: absolute;\n    cursor: pointer;\n    margin-top: 13px;\n    margin-left: -20px;\n}\n.pc-search {\n    width: 260px;\n    margin-bottom: 30px;\n}\n.repositories-line {\n    width: 100%;\n    height: 40px;\n}\n.pc-pkg-table {\n    width: 100%;\n    display: block;\n}\n.item{\n    position: relative;\n    left: -35px;\n    top: 2px;\n}\n.tool-tips{\n    position: absolute;\n    left: -12px;\n    top: 12px;\n}\n.icon-earth {\n    animation: toOpacity 2s;\n}\n.icon-pack.wait {\n    display: none;\n}\n.icon-pack {\n    animation: toOpacity 2s;\n    position: absolute;\n    left: 0;\n}\nh1 {\n    font-size: 36px;\n    font-family: HuaweiSans-Medium;\n    margin-top: 60px;\n    margin-bottom: 30px;\n}\n.home {\n    width: 1300px;\n    margin: 0 auto;\n}\n.home-hide {\n    display: none;\n}\n.switcher a {\n    font-size: 24px;\n    font-family: HuaweiSans-Medium;\n    color: rgba(0, 0, 0, 0.5);\n    margin-right: 40px;\n    cursor: pointer;\n    padding-bottom: 10px;\n    margin-bottom: 30px;\n}\n.switcher .active {\n    color: #000;\n    display: inline-block;\n    border-bottom: 4px solid #002fa7;\n\n}\n@media screen and (max-width: 1000px) {\n    .home {\n        width: 100%;\n        padding: 0 30px;\n    }\n    h1 {\n        font-size: 18px;\n        font-family: FZLTCHJW;\n        margin: 40px 0;\n    }\n    .switcher a {\n        font-size: 16px;\n        margin-right: 18px;\n    }\n}\n</style>"]}]}