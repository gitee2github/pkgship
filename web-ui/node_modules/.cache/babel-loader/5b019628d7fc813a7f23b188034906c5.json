{"remainingRequest":"/home/pkgship/web-ui/node_modules/babel-loader/lib/index.js!/home/pkgship/web-ui/node_modules/eslint-loader/index.js??ref--13-0!/home/pkgship/web-ui/src/libs/ajax-utils.js","dependencies":[{"path":"/home/pkgship/web-ui/src/libs/ajax-utils.js","mtime":1649919013041},{"path":"/home/pkgship/web-ui/babel.config.js","mtime":1649919012965},{"path":"/home/pkgship/web-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637741922141},{"path":"/home/pkgship/web-ui/node_modules/babel-loader/lib/index.js","mtime":1639451278832},{"path":"/home/pkgship/web-ui/node_modules/eslint-loader/index.js","mtime":1637741945562}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvcGtnc2hpcC93ZWItdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKCi8qKgogKiBAZmlsZSAgYXhpb3Plt6XlhbfnsbsKICogKi8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKCnZhciBfcG9zdEpzb24gPSBmdW5jdGlvbiBwb3N0SnNvbihwYXJhbXMpIHsKICB2YXIgYXBpID0gYXhpb3MuY3JlYXRlKHsKICAgIGJhc2VVUkw6IGNvbmZpZy5zZXJ2aWNlQmFzZVVybCB8fCAnJwogIH0pOwogIGFwaS5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nOyAvLyDor7fmsYLmlbDmja4KCiAgdmFyIGRhdGFTdHIgPSBwYXJhbXNbJ2RhdGEnXSAmJiAoX3R5cGVvZihwYXJhbXNbJ2RhdGEnXSkgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkocGFyYW1zWydkYXRhJ10pIDogcGFyYW1zWydkYXRhJ10pOwogIHZhciBhamF4UGFyYW1zID0ge307IC8vIHN1Y2Nlc3Pmlrnms5Xph43ovb0KCiAgYWpheFBhcmFtc1snc3VjY2VzcyddID0gZnVuY3Rpb24gKGQpIHsKICAgIGlmIChwYXJhbXMucmVzcG9uc2VUeXBlKSB7CiAgICAgIHZhciBkYXRhID0gZC5kYXRhOwoKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICBwYXJhbXMuc3VjY2VzcyhkYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXcgVnVlKCkuJG1lc3NhZ2UuZXJyb3IoJ1BsZWFzZSB0cnkgYWdhaW4gbGF0ZXInKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIF9kYXRhID0gdHlwZW9mIGQuZGF0YSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGQuZGF0YSkgOiBkLmRhdGE7CgogICAgICBwYXJhbXMuc3VjY2VzcyhfZGF0YSk7CiAgICB9CiAgfTsKCiAgcmV0dXJuIGFwaSh7CiAgICBtZXRob2Q6IHBhcmFtc1sndHlwZSddIHx8ICdwb3N0JywKICAgIHVybDogcGFyYW1zWyd1cmwnXSwKICAgIGRhdGE6IGRhdGFTdHIsCiAgICBwYXJhbXM6IHBhcmFtc1sncGFyYW1zJ10sCiAgICByZXNwb25zZVR5cGU6IHBhcmFtc1sncmVzcG9uc2VUeXBlJ10gfHwgJ2pzb24nLAogICAgdGltZW91dDogNjAwMDAKICB9KS50aGVuKGFqYXhQYXJhbXNbJ3N1Y2Nlc3MnXSkuY2F0Y2gocGFyYW1zWydlcnJvciddKTsKfTsKCnZhciBleHBvcnRzTWV0aG9kcyA9IHsKICBwb3N0SnNvbjogZnVuY3Rpb24gcG9zdEpzb24ocGFyYW1zKSB7CiAgICByZXR1cm4gX3Bvc3RKc29uKHBhcmFtcyk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBleHBvcnRzTWV0aG9kczs="},{"version":3,"sources":["/home/pkgship/web-ui/src/libs/ajax-utils.js"],"names":["axios","config","Vue","postJson","params","api","create","baseURL","serviceBaseUrl","defaults","headers","post","dataStr","JSON","stringify","ajaxParams","d","responseType","data","success","$message","error","parse","method","url","timeout","then","catch","exportsMethods"],"mappings":";;;AAAA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;;AAEA,IAAIC,SAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AACrB,MAAIC,GAAG,GAAGL,KAAK,CAACM,MAAN,CAAa;AACnBC,IAAAA,OAAO,EAAEN,MAAM,CAACO,cAAP,IAAyB;AADf,GAAb,CAAV;AAGAH,EAAAA,GAAG,CAACI,QAAJ,CAAaC,OAAb,CAAqBC,IAArB,CAA0B,cAA1B,IAA4C,kBAA5C,CAJqB,CAMrB;;AACA,MAAIC,OAAO,GAAGR,MAAM,CAAC,MAAD,CAAN,KAAoB,QAAQA,MAAM,CAAC,MAAD,CAAd,MAA4B,QAA7B,GAC3BS,IAAI,CAACC,SAAL,CAAeV,MAAM,CAAC,MAAD,CAArB,CAD2B,GACMA,MAAM,CAAC,MAAD,CAD/B,CAAd;AAGA,MAAIW,UAAU,GAAG,EAAjB,CAVqB,CAWrB;;AACAA,EAAAA,UAAU,CAAC,SAAD,CAAV,GAAwB,UAAUC,CAAV,EAAa;AACjC,QAAIZ,MAAM,CAACa,YAAX,EAAyB;AACrB,UAAMC,IAAI,GAAGF,CAAC,CAACE,IAAf;;AACA,UAAIA,IAAJ,EAAU;AACNd,QAAAA,MAAM,CAACe,OAAP,CAAeD,IAAf;AACH,OAFD,MAEO;AACH,YAAIhB,GAAJ,GAAUkB,QAAV,CAAmBC,KAAnB,CAAyB,wBAAzB;AACH;AACJ,KAPD,MAOO;AACH,UAAMH,KAAI,GAAG,OAAOF,CAAC,CAACE,IAAT,KAAkB,QAAlB,GAA6BL,IAAI,CAACS,KAAL,CAAWN,CAAC,CAACE,IAAb,CAA7B,GAAkDF,CAAC,CAACE,IAAjE;;AACAd,MAAAA,MAAM,CAACe,OAAP,CAAeD,KAAf;AACH;AACJ,GAZD;;AAcA,SAAOb,GAAG,CAAC;AACPkB,IAAAA,MAAM,EAAEnB,MAAM,CAAC,MAAD,CAAN,IAAkB,MADnB;AAEPoB,IAAAA,GAAG,EAAEpB,MAAM,CAAC,KAAD,CAFJ;AAGPc,IAAAA,IAAI,EAAEN,OAHC;AAIPR,IAAAA,MAAM,EAAEA,MAAM,CAAC,QAAD,CAJP;AAKPa,IAAAA,YAAY,EAAEb,MAAM,CAAC,cAAD,CAAN,IAA0B,MALjC;AAMPqB,IAAAA,OAAO,EAAE;AANF,GAAD,CAAH,CAOJC,IAPI,CAOCX,UAAU,CAAC,SAAD,CAPX,EAOwBY,KAPxB,CAO8BvB,MAAM,CAAC,OAAD,CAPpC,CAAP;AAQH,CAlCD;;AAoCA,IAAIwB,cAAc,GAAG;AACjBzB,EAAAA,QAAQ,EAAE,kBAAAC,MAAM;AAAA,WAAID,SAAQ,CAACC,MAAD,CAAZ;AAAA;AADC,CAArB;AAIA,eAAewB,cAAf","sourcesContent":["/**\n * @file  axios工具类\n * */\n\nimport axios from 'axios';\nimport config from '@/config';\nimport Vue from 'vue';\n\nlet postJson = params => {\n    let api = axios.create({\n        baseURL: config.serviceBaseUrl || ''\n    });\n    api.defaults.headers.post['Content-Type'] = 'application/json';\n\n    // 请求数据\n    let dataStr = params['data'] && ((typeof (params['data']) === 'object')\n        ? JSON.stringify(params['data']) : params['data']);\n\n    let ajaxParams = {};\n    // success方法重载\n    ajaxParams['success'] = function (d) {\n        if (params.responseType) {\n            const data = d.data;\n            if (data) {\n                params.success(data);\n            } else {\n                new Vue().$message.error('Please try again later');\n            }\n        } else {\n            const data = typeof d.data === 'string' ? JSON.parse(d.data) : d.data;\n            params.success(data);\n        }\n    };\n\n    return api({\n        method: params['type'] || 'post',\n        url: params['url'],\n        data: dataStr,\n        params: params['params'],\n        responseType: params['responseType'] || 'json',\n        timeout: 60000\n    }).then(ajaxParams['success']).catch(params['error']);\n};\n\nlet exportsMethods = {\n    postJson: params => postJson(params)\n};\n\nexport default exportsMethods;"]}]}